import{_,u as g,m as C,a as x,b as l,d as t,t as n,e as o,p as f,F as c,l as D,f as B,h as R,o as r}from"./index-Cxh2XMFq.js";import{b}from"./boardApi-B8lU5aRd.js";import{h as Y}from"./moment-C5S46NFB.js";import"./index-nTidzk4t.js";const F=async m=>{try{const s=document.createElement("a");s.href=m,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(s){console.error(s)}},L={class:"my-3 d-flex justify-content-between"},N={class:"text-end"},V=["onClick"],A={class:"content"},E={class:"my-5"},H={__name:"BoardDetailPage",setup(m){const s=g(),v=C(),i=R(),u=v.params.no,e=x({}),y=()=>{i.push({name:"board/list"})},k=()=>{i.push({name:"board/update",params:{no:u}})},h=async()=>{confirm("삭제할까요?")&&(await b.delete(u),i.push({name:"board/list"}))},w=async p=>{constURL="/api/board/download/"+p,await F(URL)};return(async()=>{e.value=await b.get(u)})(),(p,a)=>(r(),l(c,null,[t("h1",null,n(e.value.title),1),t("div",L,[t("div",null,[a[0]||(a[0]=t("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(e.value.writer),1)]),t("div",null,[a[1]||(a[1]=t("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(f(Y)(e.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),a[6]||(a[6]=t("hr",null,null,-1)),t("div",N,[(r(!0),l(c,null,D(e.value.attaches,d=>(r(),l("div",{key:d.no,class:"attach"},[t("span",{onClick:P=>w(d.no)},[a[2]||(a[2]=t("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(d.filename),1)],8,V)]))),128))]),t("div",A,n(e.value.content),1),t("div",E,[t("button",{class:"btn btn-primary me-2",onClick:y},a[3]||(a[3]=[t("i",{class:"fa-solid fa-list"},null,-1),o(" 목록 ")])),f(s).username==e.value.writer?(r(),l(c,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:k},a[4]||(a[4]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정 ")])),t("button",{class:"btn btn-danger",onClick:h},a[5]||(a[5]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제 ")]))],64)):B("",!0)])],64))}},I=_(H,[["__scopeId","data-v-8f10f397"]]);export{I as default};
