import{a as m,r as w,b as y,d as a,e,w as n,n as g,t as k,v as i,g as x,h as D,o as I}from"./index-BR-bs30Z.js";import{a as p}from"./authApi-C-MNZqNZ.js";const U={class:"mt-5 mx-auto",style:{width:"500px"}},V={class:"mb-3 mt-3"},B={for:"username",class:"form-label"},E={class:"mb-3 mt-3"},S={class:"mb-3"},j={class:"mb-3"},C=["disabled"],z={__name:"JoinPage",setup(M){const f=D(),u=m(null),r=m(""),l=w({username:"hong",email:"hong@gmail.com",password:"12",password2:"12",avatar:null}),o=m(!0),v=async()=>{if(!l.username)return alert("사용자 ID를 입력하세요.");o.value=await p.checkUsername(l.username),console.log(o.value,typeof o.value),r.value=o.value?"이미 사용중인 ID입니다.":"사용가능한 ID입니다."},b=()=>{o.value=!0,l.username?r.value="ID 중복 체크를 하셔야 합니다.":r.value=""},c=async()=>{if(l.password!=l.password2)return alert("비밀번호가 일치하지 않습니다.");u.value.files.length>0&&(l.avatar=u.value.files[0]);try{await p.create(l),f.push({name:"home"})}catch(d){console.error(d)}};return(d,s)=>(I(),y("div",U,[s[15]||(s[15]=a("h1",{class:"my-5"},[a("i",{class:"fa-solid fa-user-plus"}),e(" 회원가입 ")],-1)),a("form",{onSubmit:x(c,["prevent"])},[a("div",V,[a("label",B,[s[4]||(s[4]=a("i",{class:"fa-solid fa-user"},null,-1)),s[5]||(s[5]=e(" 사용자ID : ")),a("button",{type:"button",class:"btn btn-success btn-sm py-0 me-2",onClick:v}," ID 중복 확인 "),a("span",{class:g(o.value.value?"text-primary":"text-danger")},k(r.value),3)]),n(a("input",{type:"text",class:"form-control",placeholder:"사용자 ID",id:"username",onInput:b,"onUpdate:modelValue":s[0]||(s[0]=t=>l.username=t)},null,544),[[i,l.username]])]),s[11]||(s[11]=e("   ")),a("div",null,[s[6]||(s[6]=a("label",{for:"avatar",class:"form-label"},[a("i",{class:"fa-solid fa-user-astronaut"}),e(" 아바타 이미지: ")],-1)),a("input",{type:"file",class:"form-control",ref_key:"avatar",ref:u,id:"avatar",accept:"image/png, image/jpeg"},null,512)]),s[12]||(s[12]=e("   ")),a("div",E,[s[7]||(s[7]=a("label",{for:"email",class:"form-label"},[a("i",{class:"fa-solid fa-envelope"}),e(" email ")],-1)),n(a("input",{type:"email",class:"form-control",placeholder:"Email",id:"email","onUpdate:modelValue":s[1]||(s[1]=t=>l.email=t)},null,512),[[i,l.email]])]),s[13]||(s[13]=e("   ")),a("div",S,[s[8]||(s[8]=a("label",{for:"password",class:"form-label"},[a("i",{class:"fa-solid fa-lock"}),e(" 비밀번호: ")],-1)),n(a("input",{type:"password",class:"form-control",placeholder:"비밀번호",id:"password","onUpdate:modelValue":s[2]||(s[2]=t=>l.password=t)},null,512),[[i,l.password]])]),s[14]||(s[14]=e(" 회원관리–회원가입 ")),a("div",j,[s[9]||(s[9]=a("label",{for:"password",class:"form-label"},[a("i",{class:"fa-solid fa-lock"}),e(" 비밀번호 확인: ")],-1)),n(a("input",{type:"password",class:"form-control",placeholder:"비밀번호 확인",id:"password2","onUpdate:modelValue":s[3]||(s[3]=t=>l.password2=t)},null,512),[[i,l.password2]])]),a("button",{type:"submit",class:"btn btn-primary mt-4",disabled:o.value},s[10]||(s[10]=[a("i",{class:"fa-solid fa-user-plus"},null,-1),e(" 확인 ")]),8,C)],32)]))}};export{z as default};
